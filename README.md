# Отчёт по тестовому заданию

Решение выполнено в Visual Studio 2022 на языке C#. Для работы с портами использована библиотека [System.IO.Ports](https://www.nuget.org/packages/system.io.ports/).

Решение состоит из двух проектов:
- Библиотека классов WeatherSensorsLib, содержащая логику приложения, такую как сервис для работы с портами, сервис для сохранения данных в файл, общеиспользуемые модели;
- Консольное приложение WeatherSensorConsoleApp, содержащее пользовательский интерфейс для работы с реализованным функционалом;

## Алгоритмы решения и диаграмма классов

Диаграмма классов системы

![CD](https://github.com/user-attachments/assets/ff3bcc7b-d976-499b-9c39-42ab0b15bcde)

Общий алгоритм программы

![image](https://github.com/user-attachments/assets/52fbc82f-0611-43d8-ba8e-ff5a58edcf84)

Алгоритм получения данных с порта

![image](https://github.com/user-attachments/assets/8774b0f1-0512-4c54-80a9-eb3506de5e78)

Алгоритм перехода парсера в новое состояние

![image](https://github.com/user-attachments/assets/d0dbeb12-59fb-4d77-bacf-f74c767715ad)

Алгоритм сохранения данных в файл

![image](https://github.com/user-attachments/assets/615330a1-4800-47e2-8871-eaa681172893)

## Результат работы программы

Файл с результатами работы программы представляет из себя сериализованный в .json список объектов класса WeatherSensorMessage. [Файл доступен по ссылке](https://pastebin.com/fJg9Gst9).

## Выводы

В ходе выполнения работы была разработана система для взаимодействия с внешним датчиком и сохранения результатов измерений. Были решены следующие задачи:

- Проектирование системы с расчётом на дальнейшее расширение функционала (добавление новых видов сообщений и датчиков, возможность написания тестов для модуля чтения, возможность подключения графического интерфейса);
- Парсинг входных данных в соответствии с протоколом посредством реализации машины состояний, обработка состояний несоответствия протоколу;
- Потоковая обработка файлов для оптимального использования памяти;
